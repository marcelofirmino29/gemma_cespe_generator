{% extends 'generator/base.html' %}
{% load static %}

{% block title %}Página Inicial - Gerador IA{% endblock title %}

{% block extra_head %}
    {# CSS específico para ajustar cores de texto/ícone nos cards coloridos #}
    <style>
        /* Estilo Geral dos Cards */
        .card.landing-card {
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
            height: 100%;
            border: none; /* Remove a borda padrão */
            border-radius: 0.5rem; /* rounded-lg */
        }
        .card.landing-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--bs-box-shadow-lg);
        }
        .card.landing-card .card-title {
            font-size: 1rem; /* text-base */
            font-weight: 600; /* font-semibold */
            margin-bottom: 0.5rem; /* mb-2 */
            color: var(--bs-white); /* Título branco por padrão */
        }
        .card.landing-card .card-title i {
            font-size: 1.5rem; /* Tamanho do ícone */
            margin-right: 0.5rem; /* Espaço à direita */
            vertical-align: middle; /* Alinha ícone com texto */
            opacity: 0.8;
            color: inherit; /* Herda cor do título */
        }
        .card.landing-card .card-text {
            font-size: 0.8rem; /* Ligeiramente menor que small */
            flex-grow: 1; /* Ocupa espaço disponível */
            margin-bottom: 1rem; /* mb-4, espaço antes do botão */
            opacity: 0.9; /* Leve transparência no texto */
            color: var(--bs-light-text-emphasis); /* Cor clara por padrão */
        }
        .card.landing-card .btn {
            font-size: 0.75rem; /* text-xs */
            padding: 0.375rem 0.75rem; /* py-1.5 px-3 */
            align-self: flex-start; /* Alinha botão à esquerda */
            margin-top: auto; /* Empurra para baixo */
            font-weight: 500;
            border: none;
        }

        /* Cores de fundo e ajustes de texto/botão (Inspirado na imagem) */
        .card-ce { background-color: var(--bs-primary); } /* Azul */
        .card-ce .btn { color: var(--bs-primary-text-emphasis); background-color: var(--bs-primary-bg-subtle); }
        .card-ce .btn:hover { background-color: rgba(255, 255, 255, 0.3); }

        .card-disc { background-color: var(--bs-info); } /* Azul Claro (Info) */
        .card-disc .card-title, .card-disc .card-text, .card-disc .card-title i { color: var(--bs-dark-text-emphasis); } /* Texto escuro */
        .card-disc .btn { color: var(--bs-info-text-emphasis); background-color: var(--bs-info-bg-subtle); }
        .card-disc .btn:hover { background-color: rgba(0, 0, 0, 0.1); }

        .card-simulado { background-color: var(--bs-warning); } /* Amarelo */
        .card-simulado .card-title, .card-simulado .card-text, .card-simulado .card-title i { color: var(--bs-dark-text-emphasis); } /* Texto escuro */
        .card-simulado .btn { color: var(--bs-warning-text-emphasis); background-color: var(--bs-warning-bg-subtle); }
        .card-simulado .btn:hover { background-color: rgba(0, 0, 0, 0.1); }

        .card-dashboard { background-color: var(--bs-success); } /* Verde */
        .card-dashboard .btn { color: var(--bs-success-text-emphasis); background-color: var(--bs-success-bg-subtle); }
        .card-dashboard .btn:hover { background-color: rgba(255, 255, 255, 0.3); }

        /* Card do Jogo (Verde também, como o Dashboard na imagem) */
        .card-games { background-color: var(--bs-danger); }
        .card-games .card-title i { color: var(--bs-white); opacity: 0.8; }
        .card-games .btn { color: var(--bs-success-text-emphasis); background-color: var(--bs-success-bg-subtle); }
        .card-games .btn:hover { background-color: rgba(255, 255, 255, 0.3); }

    </style>
{% endblock extra_head %}

{% block content %} {# Bloco content começa aqui #}
    <div class="text-center mb-5">
        <h1 class="display-6 fw-semibold text-body-emphasis mb-2">Bem-vindo ao CESPE GENERATOR</h1>
        <p class="lead fs-6 text-body-secondary col-lg-8 mx-auto">
            Selecione uma opção abaixo.
        </p>
         {% if error_message %}
             <div class="alert alert-danger alert-dismissible fade show small mt-3 col-md-8 col-lg-6 mx-auto" role="alert">
                 {{ error_message }}
                 <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
             </div>
         {% endif %}
         {% if messages %}
             {% for message in messages %}
             <div class="alert alert-{% if message.tags %}{{ message.tags }}{% else %}info{% endif %} alert-dismissible fade show small mt-3 col-md-8 col-lg-6 mx-auto" role="alert">
                 {{ message }}
                 <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
             </div>
             {% endfor %}
         {% endif %}
    </div>

    {# Grid com 4 colunas em telas grandes, 2 em médias, 1 em pequenas #}
    <div class="row row-cols-1 row-cols-sm-2 row-cols-lg-4 g-4 mb-5">

        {# Card 1: Gerador C/E #}
        <div class="col">
            <div class="card landing-card card-ce shadow-sm">
                <div class="card-body d-flex flex-column p-3">
                    <div class="w-full mb-auto text-start"> {# Alinha texto à esquerda #}
                        <h3 class="card-title d-flex align-items-center">
                            <i class="bi bi-check2-square icon"></i>
                            Gerador C/E por Tópico
                        </h3>
                        <p class="card-text">
                            Crie questões de Certo ou Errado (estilo Cebraspe) a partir de um tópico específico e nível de dificuldade.
                        </p>
                    </div>
                    <div class="mt-3 align-self-start"> {# Botão alinhado à esquerda #}
                        <a href="{% url 'generator:generate_questions' %}" class="btn">
                            Acessar Gerador C/E
                        </a>
                    </div>
                </div>
            </div>
        </div>

        {# Card 2: Gerador Discursiva #}
        <div class="col">
            <div class="card landing-card card-disc shadow-sm">
                <div class="card-body d-flex flex-column p-3">
                     <div class="w-full mb-auto text-start">
                        <h3 class="card-title d-flex align-items-center">
                             <i class="bi bi-pencil-square icon"></i>
                            Gerador de Questão Discursiva
                        </h3>
                        <p class="card-text">
                            Forneça um tema ou contexto e a IA criará uma questão discursiva completa, com textos, comando e aspectos.
                        </p>
                    </div>
                     <div class="mt-3 align-self-start">
                         <a href="{% url 'generator:generate_discursive_exam' %}" class="btn">
                            Acessar Gerador de Questão
                        </a>
                    </div>
                </div>
            </div>
        </div>

        {# Card 3: Configurar Simulado #}
        <div class="col">
            <div class="card landing-card card-simulado shadow-sm">
                <div class="card-body d-flex flex-column p-3">
                     <div class="w-full mb-auto text-start">
                        <h3 class="card-title d-flex align-items-center">
                            <i class="bi bi-sliders icon"></i>
                            Configurar Simulado
                        </h3>
                         <p class="card-text">
                            Personalize seus simulados escolhendo o número de questões e os tópicos que deseja praticar.
                        </p>
                    </div>
                     <div class="mt-3 align-self-start">
                        <a href="{% url 'generator:configurar_simulado' %}" class="btn">
                            Configurar Simulado
                        </a>
                    </div>
                </div>
            </div>
        </div>

        {# Card 4: Dashboard #}
        <div class="col">
            <div class="card landing-card card-dashboard shadow-sm">
                <div class="card-body d-flex flex-column p-3">
                     <div class="w-full mb-auto text-start">
                         <h3 class="card-title d-flex align-items-center">
                             <i class="bi bi-graph-up icon"></i>
                            Dashboard de Desempenho
                        </h3>
                        <p class="card-text">
                            Acompanhe seu histórico de respostas, acertos, erros e pontuação geral nos simulados.
                        </p>
                     </div>
                     <div class="mt-3 align-self-start">
                         <a href="{% url 'generator:dashboard' %}" class="btn">
                            Acessar Dashboard
                        </a>
                    </div>
                </div>
            </div>
        </div>

    </div> {# Fim da row dos cards principais #}

    {# --- Card para o Hub de Jogos --- #}
    <div class="row justify-content-center">
        <div class="col-lg-6 col-md-8">
            <div class="card landing-card card-games shadow-sm"> {# Usa a classe de cor do jogo #}
                <div class="card-body d-flex flex-column p-3">
                    <div class="w-full mb-auto text-start">
                        <h3 class="card-title d-flex align-items-center">
                            <i class="bi bi-joystick icon"></i>
                            Hub de Jogos
                        </h3>
                        <p class="card-text">
                            Teste seus conhecimentos! Arraste os algoritmos de Machine Learning para suas categorias corretas.
                        </p>
                    </div>
                    <div class="mt-3 align-self-start">
                        <a href="{% url 'generator:games_hub' %}" class="btn">
                            Ver Jogos
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    {# --- Fim do Card do Jogo --- #}

{% endblock content %} {# Bloco content termina aqui #}

{% block extra_js %}
{# Nenhum JS extra necessário aqui para esta funcionalidade #}
{% endblock extra_js %}