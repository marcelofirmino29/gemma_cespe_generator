{% extends 'generator/base.html' %}
{% load static %}

{% block title %}Página Inicial - Gerador IA{% endblock title %}

{% block extra_head %}
    {# CSS específico para ajustar cores de texto/ícone nos cards coloridos #}
    <style>
        /* Estilo Geral dos Cards (sem cor de fundo base no CSS) */
        .card.landing-card {
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
            height: 100%;
            border: 1px solid transparent; /* Borda inicial transparente */
        }
        .card.landing-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--bs-box-shadow-lg); /* Sombra maior no hover */
            /* Opcional: Adicionar borda de destaque no hover */
            /* border-color: rgba(255, 255, 255, 0.5); */
        }
        .card.landing-card .card-title {
            font-size: 1rem; /* text-base */
            font-weight: 600; /* font-semibold */
            margin-bottom: 0.5rem; /* mb-2 */
        }
        .card.landing-card .card-text {
            font-size: 0.8rem; /* Ligeiramente menor que small */
            flex-grow: 1; /* Ocupa espaço disponível */
            margin-bottom: 1rem; /* mb-4, espaço antes do botão */
            opacity: 0.9; /* Leve transparência no texto */
        }
        .card.landing-card .icon {
            font-size: 1.1rem; /* Tamanho do ícone */
            margin-right: 0.5rem; /* mr-2 */
            opacity: 0.9;
        }
        .card.landing-card .btn {
            font-size: 0.75rem; /* text-xs */
            padding: 0.375rem 0.75rem; /* py-1.5 px-3 */
            align-self: flex-start; /* Alinha botão à esquerda */
            margin-top: auto; /* Empurra para baixo */
        }

        /* Ajustes de cor de texto para contraste nos cards coloridos */
        .card.bg-primary .card-title,
        .card.bg-primary .card-text,
        .card.bg-primary .icon { color: var(--bs-white); }
        .card.bg-primary .btn { color: var(--bs-primary); background-color: var(--bs-white); border-color: var(--bs-white); }
        .card.bg-primary .btn:hover { background-color: #e9ecef; border-color: #e9ecef; color: var(--bs-primary);}

        .card.bg-info .card-title,
        .card.bg-info .card-text,
        .card.bg-info .icon { color: var(--bs-dark); } /* Texto escuro no ciano */
        .card.bg-info .btn { color: var(--bs-white); background-color: var(--bs-primary); border-color: var(--bs-primary); } /* Botão azul */
        .card.bg-info .btn:hover { background-color: #0b5ed7; border-color: #0a58ca;}

        .card.bg-warning .card-title,
        .card.bg-warning .card-text,
        .card.bg-warning .icon { color: var(--bs-dark); } /* Texto escuro no amarelo */
        .card.bg-warning .btn { color: var(--bs-dark); background-color: #ffca2c; border-color: #ffc720;} /* Botão amarelo um pouco mais escuro */
         .card.bg-warning .btn:hover { background-color: #ffc107; border-color: #ffbb00;}

        .card.bg-success .card-title,
        .card.bg-success .card-text,
        .card.bg-success .icon { color: var(--bs-white); }
        .card.bg-success .btn { color: var(--bs-success); background-color: var(--bs-white); border-color: var(--bs-white); }
        .card.bg-success .btn:hover { background-color: #e9ecef; border-color: #e9ecef; color: var(--bs-success);}

         /* Ajustes para modo claro (se necessário, mas as cores base do Bootstrap já se adaptam) */
         /*
         [data-bs-theme="light"] .card.bg-info .card-title, ... { color: var(--bs-dark); }
         [data-bs-theme="light"] .card.bg-warning .card-title, ... { color: var(--bs-dark); }
         */

    </style>
{% endblock extra_head %}

{% block content %}
    <div class="text-center mb-5">
        <h1 class="display-6 fw-semibold main-title mb-2">Bem-vindo ao CESPE GENERATOR</h1>
        <p class="lead fs-6 subtitle">Selecione uma opção abaixo.</p>
         {% if error_message %}
             <div class="alert alert-danger alert-dismissible fade show small mt-3 col-md-8 col-lg-6 mx-auto" role="alert">
                 {{ error_message }}
                 <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
             </div>
         {% endif %}
    </div>

    {# Grid com 4 colunas em telas grandes, 2 em médias, 1 em pequenas #}
    <div class="row row-cols-1 row-cols-sm-2 row-cols-lg-4 g-4 mb-5">

        {# Card 1: Gerador C/E #}
        <div class="col">
            {# Adiciona bg-primary e text-white. Remove landing-card se não for mais necessário #}
            <div class="card landing-card bg-primary text-white shadow-sm {% if not service_initialized %}opacity-50{% endif %}">
                <div class="card-body d-flex flex-column p-3">
                    <div class="w-full mb-auto text-start">
                        <h3 class="card-title d-flex align-items-center">
                            <i class="bi bi-check2-square icon"></i>
                            Gerador C/E por Tópico
                        </h3>
                        {# Descrição visível #}
                        <p class="card-text">
                            Crie questões de Certo ou Errado (estilo Cebraspe) a partir de um tópico específico e nível de dificuldade.
                        </p>
                    </div>
                    <div class="mt-3 align-self-start">
                        {# Botão com estilo ajustado #}
                        <a href="{% url 'generator:generate_questions' %}" class="btn btn-light btn-sm {% if not service_initialized %}disabled{% endif %}">
                            Acessar Gerador C/E
                        </a>
                    </div>
                </div>
            </div>
        </div>

        {# Card 2: Gerador Discursiva #}
        <div class="col">
             {# Adiciona bg-info e text-dark #}
            <div class="card landing-card bg-info text-dark shadow-sm {% if not service_initialized %}opacity-50{% endif %}">
                <div class="card-body d-flex flex-column p-3">
                    <div class="w-full mb-auto text-start">
                        <h3 class="card-title d-flex align-items-center">
                             <i class="bi bi-pencil-square icon"></i>
                            Gerador de Questão Discursiva
                        </h3>
                        <p class="card-text">
                            Forneça um tema ou contexto e a IA criará uma questão discursiva completa, com textos, comando e aspectos.
                        </p>
                    </div>
                     <div class="mt-3 align-self-start">
                         {# Botão com estilo ajustado #}
                         <a href="{% url 'generator:generate_discursive_exam' %}" class="btn btn-primary btn-sm {% if not service_initialized %}disabled{% endif %}">
                            Acessar Gerador de Questão
                        </a>
                    </div>
                </div>
            </div>
        </div>

        {# Card 3: Configurar Simulado #}
        <div class="col">
            {# Adiciona bg-warning e text-dark #}
            <div class="card landing-card bg-warning text-dark shadow-sm {% if not service_initialized %}disabled-card{% endif %}">
                <div class="card-body d-flex flex-column p-3">
                    <div class="w-full mb-auto text-start">
                        <h3 class="card-title d-flex align-items-center">
                            <i class="bi bi-sliders icon"></i>
                            Configurar Simulado
                        </h3>
                         <p class="card-text">
                            Personalize seus simulados escolhendo o número de questões e os tópicos que deseja praticar.
                        </p>
                    </div>
                     <div class="mt-3 align-self-start">
                         {# Botão com estilo ajustado #}
                        <a href="{% url 'generator:configurar_simulado' %}" class="btn btn-dark btn-sm {% if not service_initialized %}disabled{% endif %}">
                            Configurar Simulado
                        </a>
                    </div>
                </div>
            </div>
        </div>

        {# Card 4: Dashboard #}
        <div class="col">
             {# Adiciona bg-success e text-white #}
            <div class="card landing-card bg-success text-white shadow-sm">
                <div class="card-body d-flex flex-column p-3">
                     <div class="w-full mb-auto text-start">
                         <h3 class="card-title d-flex align-items-center">
                             <i class="bi bi-graph-up icon"></i>
                            Dashboard de Desempenho
                        </h3>
                        <p class="card-text">
                            Acompanhe seu histórico de respostas, acertos, erros e pontuação geral nos simulados.
                        </p>
                     </div>
                     <div class="mt-3 align-self-start">
                         {# Botão com estilo ajustado #}
                         <a href="{% url 'generator:dashboard' %}" class="btn btn-light btn-sm">
                            Acessar Dashboard
                        </a>
                    </div>
                </div>
            </div>
        </div>

    </div>
{% endblock content %}

{% block extra_js %}
{# Nenhum JS extra necessário aqui para esta funcionalidade #}
{% endblock extra_js %}
